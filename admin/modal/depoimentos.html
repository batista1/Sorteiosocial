<style type="text/css">
    .myFile {}
    
    .myFile input[type="file"] {
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        opacity: 0;
        font-size: 100px;
        filter: alpha(opacity=0);
        cursor: pointer;
    }
</style>
<md-dialog flex-xs="95" flex-sm="80" flex-md="60" flex-lg="60">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Inserir novo depoimentos</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="cancel()">
                <md-icon md-svg-icon="close">
            </md-button>
        </div>
    </md-toolbar>
    <form name="depoimentos" ng-submit="save()">
        <div layout-padding>
            <div style="max-width: 200px;">
                <label class="myFile">
                <md-progress-circular md-mode="indeterminate" ng-show="upoading" md-diameter="20"></md-progress-circular>
              <md-button class="md-raised md-primary" ng-hide="upoading || show_img">Carregar imagem</md-button>
                <div style="max-width:200px" ng-show="show_img">
                <md-button class="md-raised md-primary" ng-hide="upoading">Trocar imagem</md-button>
                </div>
              <input onchange="angular.element(this).scope().file_changed(this)" type="file" accept="image/*" />
              </label>
            </div>
            <div style="max-width:200px" ng-show="show_img">

                <img src="{{img}}" style="width: 100%;"></div>
            <md-input-container class="md-block" layout-align="center end">
                <input ng-model="data.nome" type="text" placeholder="Nome" name="pergunta" required>
                <div ng-messages="depoimentos.pergunta.$error">
                    <div ng-message="required">Informe sua pergunta.</div>
                </div>
            </md-input-container>
            <md-input-container class="md-block" layout-align="center end">
                <textarea ng-model="data.texto" type="text" placeholder="Texto" name="resposta" required></textarea>
                <div ng-messages="depoimentos.resposta.$error">
                    <div ng-message="required">Informe a resposta.</div>
                </div>
            </md-input-container>

        </div>
        </md-content>
        <md-dialog-actions layout="row">
            <md-button class="" type='button' ng-click="cancel()">
                Fechar

            </md-button>
            <span flex></span>
            <md-progress-circular md-mode="indeterminate" ng-show="formUpdate.$submitted" md-diameter="20"></md-progress-circular>
            <md-button class="md-primary md-raised" type="submit" ng-disabled="formUpdate.$invalid || formUpdate.$submitted || upoading">
                Salvar
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>